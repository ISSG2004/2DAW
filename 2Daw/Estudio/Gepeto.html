<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Prueba Practica RA4_abcde</title>
    <style>
        body {
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            align-items: center;
            margin: 20px;
        }
        button {
            margin: 10px;
        }
        .window {
            position: absolute;
            width: 300px;
            height: 300px;
            border: 1px solid black;
            overflow: auto;
            display: none;
        }
        #window1 { top: 0; left: 0; background-color: lightgreen; }
        #window2 { top: 0; right: 0; background-color: lightblue; }
        #window3 { bottom: 0; right: 0; background-color: lightpink; }
        #window4 { bottom: 0; left: 0; background-color: orange; }
    </style>
</head>
<body>
    <h1>Prueba Practica RA4_abcde</h1>
    <p>Tu nombre aquí</p>

    <!-- Botones para abrir y cerrar ventanas -->
    <button onclick="openWindow(1)">Abrir Ventana 1</button>
    <button onclick="closeWindow(1)">Cerrar Ventana 1</button>
    <button onclick="openWindow(2)">Abrir Ventana 2</button>
    <button onclick="closeWindow(2)">Cerrar Ventana 2</button>
    <button onclick="openWindow(3)">Abrir Ventana 3</button>
    <button onclick="closeWindow(3)">Cerrar Ventana 3</button>
    <button onclick="openWindow(4)">Abrir Ventana 4</button>
    <button onclick="closeWindow(4)">Cerrar Ventana 4</button>

    <!-- Controles select -->
    <label for="lengthSelect">Longitud de la lista:</label>
    <select id="lengthSelect">
        <!-- opciones generadas dinámicamente -->
    </select>
    <label for="countSelect">Número de valores aleatorios:</label>
    <select id="countSelect">
        <!-- opciones generadas dinámicamente -->
    </select>

    <!-- Ventanas -->
    <div id="window1" class="window"></div>
    <div id="window2" class="window"></div>
    <div id="window3" class="window"></div>
    <div id="window4" class="window"></div>

    <script>
        // Objeto usuario
        const usuario = {
            nombre: "",
            contraseña: "bueno",
            fechaUltimaEntrada: null,
    
            autenticar: function (nombre, contraseña) {
                if (nombre.toLowerCase() === "alumno" && contraseña === this.contraseña) {
                    this.fechaUltimaEntrada = new Date();
                    return true;
                } else {
                    return false;
                }
            },
    
            cambiarContraseña: function (nuevaContraseña) {
                this.contraseña = nuevaContraseña;
                return `Contraseña cambiada. Nueva contraseña: ${nuevaContraseña}`;
            }
        };
    
        // Funciones para abrir y cerrar ventanas
        function openWindow(windowNumber) {
            const windowElement = document.getElementById(`window${windowNumber}`);
            windowElement.style.display = "block";
    
            // Lógica específica para cada ventana (puntos 2, 3, 4, 5)
            switch (windowNumber) {
                case 1:
                    showLoginForm(windowElement);
                    break;
                case 2:
                    showRandomValues(windowElement);
                    break;
                case 3:
                    showOrderedOddValues(windowElement);
                    break;
                case 4:
                    showUserInfo(windowElement);
                    break;
                default:
                    break;
            }
        }
    
        function closeWindow(windowNumber) {
            const windowElement = document.getElementById(`window${windowNumber}`);
            windowElement.style.display = "none";
        }
    
        // Lógica específica para cada ventana
        function showLoginForm(windowElement) {
            windowElement.innerHTML = `
                <form>
                    <label for="username">Usuario:</label>
                    <input type="text" id="username" required><br>
                    <label for="password">Contraseña:</label>
                    <input type="password" id="password" required><br>
                    <label for="newPassword">Nueva Contraseña:</label>
                    <input type="password" id="newPassword" required><br>
                    <button type="button" onclick="authenticateAndChangePassword()">Enviar</button>
                    <p id="message"></p>
                </form>
            `;
        }
    
        function authenticateAndChangePassword() {
            const usernameInput = document.getElementById("username");
            const passwordInput = document.getElementById("password");
            const newPasswordInput = document.getElementById("newPassword");
            const messageElement = document.getElementById("message");
    
            const authenticated = usuario.autenticar(usernameInput.value, passwordInput.value);
    
            if (authenticated) {
                const confirmation = confirm("Datos correctos. ¿Deseas cambiar la contraseña?");
                if (confirmation) {
                    const newPasswordMessage = usuario.cambiarContraseña(newPasswordInput.value);
                    messageElement.textContent = newPasswordMessage;
                } else {
                    messageElement.textContent = "";
                }
            } else {
                const retry = confirm("Datos incorrectos. ¿Quieres intentarlo de nuevo?");
                if (retry) {
                    usernameInput.value = "";
                    passwordInput.value = "";
                    newPasswordInput.value = "";
                    messageElement.textContent = "";
                } else {
                    closeWindow(1);
                }
            }
        }
    
        function showRandomValues(windowElement) {
            // Obtener valores de los controles select
            const lengthSelect = document.getElementById("lengthSelect");
            const countSelect = document.getElementById("countSelect");
            const length = parseInt(lengthSelect.value);
            const count = parseInt(countSelect.value);
    
            // Crear una lista de números aleatorios
            const randomValues = [];
            for (let i = 0; i < length; i++) {
                randomValues.push(Math.floor(Math.random() * 100) + 1);
            }
    
            // Seleccionar valores aleatorios de la lista
            const selectedValues = [];
            for (let i = 0; i < count; i++) {
                const randomIndex = Math.floor(Math.random() * length);
                selectedValues.push(randomValues[randomIndex]);
            }
    
            // Mostrar los resultados en la ventana
            windowElement.textContent = `Valores aleatorios: ${selectedValues.join("-")}\n`;
            windowElement.textContent += `Lista a representar: ${randomValues.join("-")}`;
        }
    
        function showOrderedOddValues(windowElement) {
            // Obtener valores de los controles select
            const lengthSelect = document.getElementById("lengthSelect");
            const length = parseInt(lengthSelect.value);
    
            // Crear una lista de números aleatorios
            const randomValues = [];
            for (let i = 0; i < length; i++) {
                randomValues.push(Math.floor(Math.random() * 100) + 1);
            }
    
            // Filtrar los valores impares y ordenarlos de menor a mayor
            const oddValues = randomValues.filter(value => value % 2 !== 0).sort((a, b) => a - b);
    
            // Mostrar los resultados en la ventana
            windowElement.textContent = `Valores impares: ${oddValues.join("-")}`;
        }
    
        function showUserInfo(windowElement) {
            // Mostrar la contraseña vigente y la fecha de la última entrada
            windowElement.textContent = `Contraseña actual: ${usuario.contraseña}\n`;
            windowElement.textContent += `Fecha de última entrada: ${usuario.fechaUltimaEntrada}`;
        }
    
        // Generar opciones para los controles select
        const lengthSelect = document.getElementById("lengthSelect");
        const countSelect = document.getElementById("countSelect");
    
        for (let i = 50; i <= 60; i++) {
            const option = document.createElement("option");
            option.value = i;
            option.textContent = i;
            lengthSelect.appendChild(option);
        }
    
        for (let i = 6; i <= 9; i++) {
            const option = document.createElement("option");
            option.value = i;
            option.textContent = i;
            countSelect.appendChild(option);
        }
    </script>
    
    
</body>
</html>
